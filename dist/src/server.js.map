{"version":3,"sources":["../../src/server.ts"],"sourcesContent":["import app from \"./app\";\r\nimport prisma from \"./lib/prisma\"; // ‚úÖ default import\r\n\r\nconst PORT = Number(process.env.PORT) || 5000;\r\n\r\nconst shutdown = async () => {\r\n  console.log(\"üõë Shutting down server...\");\r\n  await prisma.$disconnect(); // ‚úÖ use prisma, not Prisma\r\n  process.exit(0);\r\n};\r\n\r\nasync function startServer() {\r\n  try {\r\n    await prisma.$connect(); // ‚úÖ use prisma\r\n    console.log(\"‚úÖ Connected to database\");\r\n\r\n    app.listen(PORT, () => {\r\n      console.log(`üöÄ Server running at http://localhost:${PORT}`);\r\n    });\r\n  } catch (error) {\r\n    console.error(\"‚ùå Failed to start server:\", error);\r\n    await prisma.$disconnect();\r\n    process.exit(1);\r\n  }\r\n}\r\n\r\n// Graceful shutdown\r\nprocess.on(\"SIGINT\", shutdown);\r\nprocess.on(\"SIGTERM\", shutdown);\r\n\r\n// Start app\r\nstartServer();\r\n\r\n"],"mappings":";;;;;;AAGA,IAAM,OAAO,OAAO,QAAQ,IAAI,IAAI,KAAK;AAEzC,IAAM,WAAW,YAAY;AAC3B,UAAQ,IAAI,mCAA4B;AACxC,QAAM,eAAO,YAAY;AACzB,UAAQ,KAAK,CAAC;AAChB;AAEA,eAAe,cAAc;AAC3B,MAAI;AACF,UAAM,eAAO,SAAS;AACtB,YAAQ,IAAI,8BAAyB;AAErC,gBAAI,OAAO,MAAM,MAAM;AACrB,cAAQ,IAAI,gDAAyC,IAAI,EAAE;AAAA,IAC7D,CAAC;AAAA,EACH,SAAS,OAAO;AACd,YAAQ,MAAM,kCAA6B,KAAK;AAChD,UAAM,eAAO,YAAY;AACzB,YAAQ,KAAK,CAAC;AAAA,EAChB;AACF;AAGA,QAAQ,GAAG,UAAU,QAAQ;AAC7B,QAAQ,GAAG,WAAW,QAAQ;AAG9B,YAAY;","names":[]}